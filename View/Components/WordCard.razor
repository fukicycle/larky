@inject SpeechSynthesis SpeechSynthesis
<div class="word-card-wrapper">
    <div class="word-card">
        <div class="word montserrat-900" @onclick=@SpeechAsync>@Word.Text</div>
        <div class="detail">
            <div class="mean">@Word.Meaning</div>
            <div class="examples">
                <div class="en montserrat-400">@Word.ExampleOfEnglish</div>
                <div class="jp">@Word.ExampleOfJapanese</div>
            </div>
            <div class="actions">
                <button class="btn-icon">
                    <svg width="48" height="55" viewBox="0 0 48 55" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_694_107)">
                            <path
                                d="M46.9929 11.3223C48.3322 12.665 48.3322 14.8457 46.9929 16.1885L19.5643 43.6885C18.225 45.0313 16.05 45.0313 14.7107 43.6885L0.996438 29.9385C-0.342848 28.5957 -0.342848 26.415 0.996438 25.0723C2.33572 23.7295 4.51072 23.7295 5.85001 25.0723L17.1429 36.3838L42.15 11.3223C43.4893 9.97949 45.6643 9.97949 47.0036 11.3223H46.9929Z"
                                fill="#599071" />
                        </g>
                        <defs>
                            <clipPath id="clip0_694_107">
                                <rect width="48" height="55" fill="white" />
                            </clipPath>
                        </defs>
                    </svg>
                </button>
                <button class="btn-icon">
                    <svg width="48" height="64" viewBox="0 0 48 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M42.825 18.8251C44.3875 17.2626 44.3875 14.7251 42.825 13.1626C41.2625 11.6001 38.725 11.6001 37.1625 13.1626L24 26.3376L10.825 13.1751C9.26251 11.6126 6.72501 11.6126 5.16251 13.1751C3.60001 14.7376 3.60001 17.2751 5.16251 18.8376L18.3375 32.0001L5.17501 45.1751C3.61251 46.7376 3.61251 49.2751 5.17501 50.8376C6.73751 52.4001 9.27501 52.4001 10.8375 50.8376L24 37.6626L37.175 50.8251C38.7375 52.3876 41.275 52.3876 42.8375 50.8251C44.4 49.2626 44.4 46.7251 42.8375 45.1626L29.6625 32.0001L42.825 18.8251Z"
                            fill="#B24C47" />
                    </svg>
                </button>
            </div>
            @if (!isShowAnswer)
            {
                <div class="panel" @onclick=@SwitchDisplayMode>タップして詳細を表示</div>
            }
        </div>
    </div>
</div>
@code {
    [Parameter]
    public WordDTO Word { get; set; } = null!;

    private bool isShowAnswer { get; set; }

    private void SwitchDisplayMode()
    {
        isShowAnswer = !isShowAnswer;
    }

    protected override void OnParametersSet()
    {
        isShowAnswer = false;
    }

    protected override async Task OnParametersSetAsync()
    {
        await SpeechAsync();
    }

    private async Task SpeechAsync()
    {
        await SpeechSynthesis.SpeakAsync(Word.Text);
    }
}